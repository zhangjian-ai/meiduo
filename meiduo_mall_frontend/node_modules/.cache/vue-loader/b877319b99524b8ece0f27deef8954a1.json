{"remainingRequest":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/views/Register.vue","mtime":1623685084254},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL0Zvb3Rlci52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgZGF0YSgpIHsKICAgIC8vIOagoemqjOS4pOasoeWvhueggei+k+WFpeaYr+WQpuebuOWQjO+8jOagoemqjOaIkOWKn+aXtuS4gOWumuimgeWbnuiwg2NhbGxiYWNrKCnjgILlkKbliJnkvJrlr7zoh7TlhajlsYDmoKHpqozpgJrov4flkI7kuI3nu6fnu63miafooYwKICAgIGNvbnN0IGNoZWNrX3B3ZCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKHRoaXMuZm9ybS5wYXNzd29yZCA9PT0gdmFsdWUpIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybS5wYXNzd29yZDIgPSAiIjsKICAgICAgICAvLyDlvZPmoKHpqozkuI3ov4fml7bvvIznoa7orqTlr4bnoIHmoYboh6rliqjojrflvpfnhKbngrkKICAgICAgICAvLyB0aGlzLiRyZWZzLnBhc3N3b3JkMi5mb2N1cygpOwogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5Lik5qyh6L6T5YWl55qE5a+G56CB5LiN5LiA6Ie077yM6K+36YeN5paw6L6T5YWlIikpOwogICAgICB9CiAgICB9OwogICAgY29uc3QgY2hlY2tfdXNlcm5hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIHRoaXMuJGF4aW9zCiAgICAgICAgLmdldCgidXNlcnMvIiArIHZhbHVlICsgIi9jb3VudC8iKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY291bnQgPiAwKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi55So5oi35ZCN5bey5a2Y5ZyoIikpOwogICAgICAgICAgfQogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubWVzc2FnZSk7CiAgICAgICAgfSk7CiAgICB9OwogICAgY29uc3QgY2hlY2tfbW9iaWxlID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICB0aGlzLiRheGlvcwogICAgICAgIC5nZXQoInVzZXJzLyIgKyB2YWx1ZSArICIvY291bnQvIikKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvdW50ID4gMCkgewogICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivpeaJi+acuuWPt+W3sue7j+azqOWGjCIpKTsKICAgICAgICAgIH0KICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1lc3NhZ2UpOwogICAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICAvLyDlm77niYfot6/lvoTjgILlvJXnlKjmnKzlnLDlm77niYfml7bvvIzlsIblm77niYfkvZzkuLrlr7nosaHlr7zlhaXmiY3og73nu5HlrpoKICAgICAgaW1hZ2U6IHsKICAgICAgICBsb2dvOiByZXF1aXJlKCIuLi9hc3NldHMvaW1hZ2VzL2xvZ28ucG5nIiksCiAgICAgICAgcmVnaXN0ZXI6IHJlcXVpcmUoIi4uL2Fzc2V0cy9pbWFnZXMvcmVnaXN0ZXJfYmFubmVyLnBuZyIpLAogICAgICAgIGludGVydmFsOiByZXF1aXJlKCIuLi9hc3NldHMvaW1hZ2VzL2ludGVydmFsX2xpbmUucG5nIikKICAgICAgfSwKCiAgICAgIC8vIOWPkemAgeefreS/oeaMiemSruagh+ivhuWPiuaWh+acrAogICAgICBzZW5kX2ZsYWc6IGZhbHNlLAogICAgICBzZW5kX3RpcHM6ICLlj5HpgIHpqozor4HnoIEiLAoKICAgICAgLy8g5rOo5YaM6KGo5Y2VCiAgICAgIGZvcm06IHsKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHBhc3N3b3JkMjogIiIsCiAgICAgICAgbW9iaWxlOiAiIiwKICAgICAgICBzbXNfY29kZTogIiIsCiAgICAgICAgYWxsb3c6ICIiCiAgICAgIH0sCgogICAgICAvLyDooajljZXmoKHpqozop4TliJkKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgcGF0dGVybjogL15cd3s1LDIwfSQvLAogICAgICAgICAgICBtZXNzYWdlOiAi55So5oi35ZCN5bqU55Sx5a2X5q+N5pWw5a2X5oiW5LiL5YiS57q/57uE5oiQ55qENe+9njIw5L2N5a2X56ymIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9LAogICAgICAgICAgeyB2YWxpZGF0b3I6IGNoZWNrX3VzZXJuYW1lLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHBhdHRlcm46IC9eXHd7OCwyMH0kLywKICAgICAgICAgICAgbWVzc2FnZTogIuWvhueggeW6lOeUseWtl+avjeaVsOWtl+aIluS4i+WIkue6v+e7hOaIkOeahDjvvZ4yMOS9jeWtl+espiIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQyOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi56Gu6K6k5a+G56CB5Li65b+F5aGr6aG5IiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9LAogICAgICAgICAgeyB2YWxpZGF0b3I6IGNoZWNrX3B3ZCwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdLAogICAgICAgIG1vYmlsZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgcGF0dGVybjogL14xWzMtOV17MX1cZHs5fSQvLAogICAgICAgICAgICBtZXNzYWdlOiAi5omL5py65Y+356CB5LiN5ZCI5rOVIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9LAogICAgICAgICAgeyB2YWxpZGF0b3I6IGNoZWNrX21vYmlsZSwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdLAogICAgICAgIHNtc19jb2RlOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBwYXR0ZXJuOiAvXlswLTldezZ9JC8sCiAgICAgICAgICAgIG1lc3NhZ2U6ICLpqozor4HnoIHplJnor68iLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIGFsbG93OiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+35Yu+6YCJ5L2/55So5Y2P6K6uIiwgdHJpZ2dlcjogImNoYW5nZSIgfQogICAgICAgIF0KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bnn63kv6Hpqozor4HnoIEKICAgIGdldFNtc0NvZGUoKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgaWYgKHRoYXQuZm9ybS5tb2JpbGUpIHsKICAgICAgICAvLyDliKTmlq3mmK/lkKblt7Lnu4/lj5Hkuobnn63kv6EKICAgICAgICBpZiAodGhhdC5zZW5kX2ZsYWcpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoYXQuJGF4aW9zCiAgICAgICAgICAuZ2V0KCJzbXNfY29kZXMvIiArIHRoYXQuZm9ybS5tb2JpbGUgKyAiLyIpCiAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAvLyDnn63kv6Hlj5HpgIHmiJDlip/lkI7vvIznva7ngbDmjInpkq7vvIzlgJLorqHml7Y2MOenku+8jDYw56eS5ZCO5YWB6K6455So5oi35YaN5qyh54K55Ye75Y+R6YCB55+t5L+h6aqM6K+B56CB55qE5oyJ6ZKuCiAgICAgICAgICAgICAgdGhhdC5zZW5kX2ZsYWcgPSB0cnVlOwogICAgICAgICAgICAgIGxldCBudW0gPSA2MDsKICAgICAgICAgICAgICAvLyDorr7nva7kuIDkuKrorqHml7blmagKICAgICAgICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgKICAgICAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKG51bSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c6K6h5pe25Zmo5Yiw5pyA5ZCOLCDmuIXpmaTorqHml7blmajlr7nosaEKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgICAgICAvLyDlsIbngrnlh7vojrflj5bpqozor4HnoIHnmoTmjInpkq7lsZXnpLrnmoTmlofmnKzlm57lpI3miJDljp/lp4vmlofmnKwKICAgICAgICAgICAgICAgICAgICB0aGF0LnNlbmRfdGlwcyA9ICLlj5HpgIHpqozor4HnoIEiOwogICAgICAgICAgICAgICAgICAgIC8vIOWwhueCueWHu+aMiemSrueahG9uY2xpY2vkuovku7blh73mlbDmgaLlpI3lm57ljrsKICAgICAgICAgICAgICAgICAgICB0aGF0LnNlbmRfZmxhZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG51bSAtPSAxOwogICAgICAgICAgICAgICAgICAgIC8vIOWxleekuuWAkuiuoeaXtuS/oeaBrwogICAgICAgICAgICAgICAgICAgIHRoYXQuc2VuZF90aXBzID0gbnVtICsgIuenkiI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAxMDAwLAogICAgICAgICAgICAgICAgNjAKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHRoYXQuJG1lc3NhZ2UuZXJyb3IoIuivt+WFiOWhq+WGmeaJi+acuuWPt++8gSIpOwogICAgICB9CiAgICB9LAogICAgLy8g5o+Q5Lqk5rOo5YaM6KGo5Y2VCiAgICBzdWJtaXQoKSB7CiAgICAgIHRoaXMuJHJlZnMucmVnaXN0ZXJGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICAgIHRoYXQuJGF4aW9zCiAgICAgICAgICAgIC5wb3N0KCJ1c2Vycy8iLCB0aGF0LmZvcm0pCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgLy8g5rOo5YaM5oiQ5Yqf5pe277yM54q25oCB56CB5Li6MjAxCiAgICAgICAgICAgICAgLy8g5rOo5YaM5oiQ5Yqf5ZCO77yM5L+d5a2YdG9rZW7kv6Hmga8KICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOyAvLyBzZXNzaW9uU3RvcmFnZeWFs+mXrea1j+iniOWZqOWNs+a4hemZpAogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOyAvLyDmsLjkuYXkv53lrZgKCiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UudG9rZW4gPSByZXMuZGF0YS50b2tlbjsKICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS51c2VybmFtZSA9IHJlcy5kYXRhLnVzZXJuYW1lOwogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnVzZXJfaWQgPSByZXMuZGF0YS5pZDsKCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRTdGF0dXMiLCB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogcmVzLmRhdGEudXNlcm5hbWUsCiAgICAgICAgICAgICAgICB0b2tlbjogcmVzLmRhdGEudG9rZW4KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgLy8g6Lez6L2s6aG16Z2i44CC5qC55o2u6Lez6L2s6L+H5p2l55qE6aG16Z2i77yM55m76ZmG5oiQ5Yqf5ZCO77yM6Lez6L2s5Zue5Y6777yb5ZCm5YiZ6L+b5YWl5Li76aG1CiAgICAgICAgICAgICAgdGhhdC4kcm91dGVyLnJlcGxhY2UodGhhdC4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgIi8iKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5lcnJvcigi5pyN5Yqh5Zmo6ZSZ6K+vIik7CiAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5lcnJvcihlcnIubWVzc2FnZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEZvb3RlcgogIH0KfTsK"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <el-row>\n      <!-- 左半部分 -->\n      <el-col :span=\"14\" style=\"margin-top: 4em; text-align: right;\">\n        <div>\n          <div>\n            <el-image :src=\"image.logo\"></el-image>\n          </div>\n          <div>\n            <span class=\"banner-text\">商品美·种类多·欢迎选购</span>\n          </div>\n          <div></div>\n          <el-image :src=\"image.register\"></el-image>\n        </div>\n      </el-col>\n      <!-- 分割线 -->\n      <el-col :span=\"1\" style=\"margin-top: 2em; text-align: center;\">\n        <el-image :src=\"image.interval\"></el-image>\n      </el-col>\n      <!-- 右半部分 -->\n      <el-col :span=\"9\" style=\"width: 22em; margin-top: 4em;\">\n        <div>\n          <!-- 标题栏 -->\n          <el-row style=\"line-height: 3em;\">\n            <el-col :span=\"18\">\n              <span class=\"register-text\">用户注册</span>\n            </el-col>\n            <el-col :span=\"6\" style=\"text-align: right;\">\n              <!-- click事件直接绑定router内置函数完成页面跳转 -->\n              <el-button type=\"text\" @click=\"$router.push({ name: 'login' })\">\n                登陆\n                <i class=\"el-icon-d-arrow-right el-icon--right\"></i>\n              </el-button>\n            </el-col>\n          </el-row>\n          <el-divider></el-divider>\n\n          <!-- 注册表单 -->\n          <el-form size=\"mini\" label-width=\"6em\" :model=\"form\" :rules=\"rules\" ref=\"registerForm\">\n            <el-form-item label=\"用户名:\" prop=\"username\">\n              <el-input v-model=\"form.username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码:\" prop=\"password\">\n              <el-input v-model=\"form.password\" type=\"password\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"确认密码:\" prop=\"password2\">\n              <el-input\n                v-model=\"form.password2\"\n                type=\"password\"\n                auto-complete=\"off\"\n                ref=\"password2\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"手机号:\" prop=\"mobile\">\n              <el-input v-model=\"form.mobile\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"验证码:\" prop=\"sms_code\">\n              <span style=\"width: 20em;\">\n                <el-input style=\"width: 10em; margin-right:1em;\" v-model=\"form.sms_code\"></el-input>\n                <el-button\n                  style=\"width: 8em; text-align: center;\"\n                  @click=\"getSmsCode\"\n                  type=\"primary\"\n                  :disabled=\"send_flag\"\n                >{{ send_tips }}</el-button>\n              </span>\n            </el-form-item>\n            <el-form-item style=\"text-align: left;\" label-width=\"6em\" prop=\"allow\">\n              <el-checkbox v-model=\"form.allow\" true-label=\"true\">同意 “张老师的使用协议”</el-checkbox>\n            </el-form-item>\n            <el-form-item style=\"text-align: center; margin-top: 0px;\" label-width=\"0\">\n              <el-button type=\"danger\" size=\"medium\" style=\"width: 20em;\" @click=\"submit\">立即注册</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-col>\n    </el-row>\n    <!-- footer部分 -->\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\nimport Footer from \"@/components/Footer.vue\";\n\nexport default {\n  name: \"Register\",\n  data() {\n    // 校验两次密码输入是否相同，校验成功时一定要回调callback()。否则会导致全局校验通过后不继续执行\n    const check_pwd = (rule, value, callback) => {\n      if (this.form.password === value) {\n        callback();\n      } else {\n        this.form.password2 = \"\";\n        // 当校验不过时，确认密码框自动获得焦点\n        // this.$refs.password2.focus();\n        callback(new Error(\"两次输入的密码不一致，请重新输入\"));\n      }\n    };\n    const check_username = (rule, value, callback) => {\n      this.$axios\n        .get(\"users/\" + value + \"/count/\")\n        .then(res => {\n          if (res.data.count > 0) {\n            callback(new Error(\"用户名已存在\"));\n          }\n          callback();\n        })\n        .catch(err => {\n          this.$message.error(err.message);\n        });\n    };\n    const check_mobile = (rule, value, callback) => {\n      this.$axios\n        .get(\"users/\" + value + \"/count/\")\n        .then(res => {\n          if (res.data.count > 0) {\n            callback(new Error(\"该手机号已经注册\"));\n          }\n          callback();\n        })\n        .catch(err => {\n          this.$message.error(err.message);\n        });\n    };\n\n    return {\n      // 图片路径。引用本地图片时，将图片作为对象导入才能绑定\n      image: {\n        logo: require(\"../assets/images/logo.png\"),\n        register: require(\"../assets/images/register_banner.png\"),\n        interval: require(\"../assets/images/interval_line.png\")\n      },\n\n      // 发送短信按钮标识及文本\n      send_flag: false,\n      send_tips: \"发送验证码\",\n\n      // 注册表单\n      form: {\n        username: \"\",\n        password: \"\",\n        password2: \"\",\n        mobile: \"\",\n        sms_code: \"\",\n        allow: \"\"\n      },\n\n      // 表单校验规则\n      rules: {\n        username: [\n          {\n            required: true,\n            pattern: /^\\w{5,20}$/,\n            message: \"用户名应由字母数字或下划线组成的5～20位字符\",\n            trigger: \"blur\"\n          },\n          { validator: check_username, trigger: \"blur\" }\n        ],\n        password: [\n          {\n            required: true,\n            pattern: /^\\w{8,20}$/,\n            message: \"密码应由字母数字或下划线组成的8～20位字符\",\n            trigger: \"blur\"\n          }\n        ],\n        password2: [\n          {\n            required: true,\n            message: \"确认密码为必填项\",\n            trigger: \"blur\"\n          },\n          { validator: check_pwd, trigger: \"blur\" }\n        ],\n        mobile: [\n          {\n            required: true,\n            pattern: /^1[3-9]{1}\\d{9}$/,\n            message: \"手机号码不合法\",\n            trigger: \"blur\"\n          },\n          { validator: check_mobile, trigger: \"blur\" }\n        ],\n        sms_code: [\n          {\n            required: true,\n            pattern: /^[0-9]{6}$/,\n            message: \"验证码错误\",\n            trigger: \"blur\"\n          }\n        ],\n        allow: [\n          { required: true, message: \"请勾选使用协议\", trigger: \"change\" }\n        ]\n      }\n    };\n  },\n  mounted() {},\n  methods: {\n    // 获取短信验证码\n    getSmsCode() {\n      let that = this;\n      if (that.form.mobile) {\n        // 判断是否已经发了短信\n        if (that.send_flag) {\n          return;\n        }\n\n        that.$axios\n          .get(\"sms_codes/\" + that.form.mobile + \"/\")\n          .then(res => {\n            if (res.status == 200) {\n              // 短信发送成功后，置灰按钮，倒计时60秒，60秒后允许用户再次点击发送短信验证码的按钮\n              that.send_flag = true;\n              let num = 60;\n              // 设置一个计时器\n              let timer = setInterval(\n                () => {\n                  if (num == 1) {\n                    // 如果计时器到最后, 清除计时器对象\n                    clearInterval(timer);\n                    // 将点击获取验证码的按钮展示的文本回复成原始文本\n                    that.send_tips = \"发送验证码\";\n                    // 将点击按钮的onclick事件函数恢复回去\n                    that.send_flag = false;\n                  } else {\n                    num -= 1;\n                    // 展示倒计时信息\n                    that.send_tips = num + \"秒\";\n                  }\n                },\n                1000,\n                60\n              );\n            }\n          })\n      } else {\n        that.$message.error(\"请先填写手机号！\");\n      }\n    },\n    // 提交注册表单\n    submit() {\n      this.$refs.registerForm.validate(valid => {\n        if (valid) {\n          let that = this;\n          that.$axios\n            .post(\"users/\", that.form)\n            .then(res => {\n              // 注册成功时，状态码为201\n              // 注册成功后，保存token信息\n              sessionStorage.clear(); // sessionStorage关闭浏览器即清除\n              localStorage.clear(); // 永久保存\n\n              sessionStorage.token = res.data.token;\n              sessionStorage.username = res.data.username;\n              sessionStorage.user_id = res.data.id;\n\n              this.$store.commit(\"setStatus\", {\n                username: res.data.username,\n                token: res.data.token\n              });\n\n              // 跳转页面。根据跳转过来的页面，登陆成功后，跳转回去；否则进入主页\n              that.$router.replace(that.$route.query.redirect || \"/\");\n            })\n            .catch(err => {\n              that.$message.error(\"服务器错误\");\n              that.$message.error(err.message);\n            });\n        } else {\n          return false;\n        }\n      });\n    }\n  },\n  components: {\n    Footer\n  }\n};\n</script>\n\n<style scoped>\n.banner-text {\n  color: red;\n}\n.register-text {\n  font-size: 1.5em;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  color: grey;\n}\n.el-input {\n  width: 20em;\n}\n.el-form-item {\n  margin-top: 2em;\n}\n.el-form {\n  padding-bottom: 1em;\n}\n.el-divider {\n  margin: 0;\n  padding: 0;\n}\n</style>"]}]}