{"remainingRequest":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/components/VerifyOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/components/VerifyOrder.vue","mtime":1624006457202},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVmVyaWZ5T3JkZXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDorqTor4Hnu5PmnpwKICAgICAgdmVyaWZ5X3Bhc3M6IGZhbHNlLAogICAgICB2ZXJpZnlfZmFpbDogZmFsc2UsCiAgICAgIGVycm9yX21lc3NhZ2U6ICIiLAoKICAgICAgLy8g5Yqg6L295LitCiAgICAgIGxvYWRpbmc6IHRydWUsCgogICAgICAvLyDlm77niYfot6/lvoTjgILlvJXnlKjmnKzlnLDlm77niYfml7bvvIzlsIblm77niYfkvZzkuLrlr7nosaHlr7zlhaXmiY3og73nu5HlrpoKICAgICAgaW1hZ2U6IHsKICAgICAgICBzdWNjZXNzOiByZXF1aXJlKCIuLi9hc3NldHMvaW1hZ2VzL3N1Y2Nlc3MuanBlZyIpLAogICAgICAgIGZhaWx1cmU6IHJlcXVpcmUoIi4uL2Fzc2V0cy9pbWFnZXMvZmFpbHVyZS5qcGVnIiksCiAgICAgICAgbG9hZGluZzogcmVxdWlyZSgiLi4vYXNzZXRzL2ltYWdlcy9sb2FkaW5nLmdpZiIpCiAgICAgIH0sCgogICAgICAvLyDov5Tlm57lgLwKICAgICAgb3JkZXJfaWQ6IDAsCiAgICAgIHRyYWRlX2lkOiAwCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudmVyaWZ5X29yZGVyKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5blm57osIPlnLDlnYDkuK3nmoTlj4LmlbAKICAgIGdldENvZGUoKSB7CiAgICAgIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgcmV0dXJuIHVybC5zcGxpdCgiPyIpWzFdOwogICAgfSwKICAgIHZlcmlmeV9vcmRlcigpIHsKICAgICAgbGV0IHBhcmFtcyA9IHRoaXMuZ2V0Q29kZSgpOwogICAgICB0aGlzLiRhcGkKICAgICAgICAudmVyaWZ5X2FsaXBheShwYXJhbXMpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy52ZXJpZnlfcGFzcyA9IHRydWU7CiAgICAgICAgICB0aGlzLm9yZGVyX2lkID0gcmVzLmRhdGEub3JkZXJfaWQ7CiAgICAgICAgICB0aGlzLnRyYWRlX2lkID0gcmVzLmRhdGEudHJhZGVfaWQ7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy52ZXJpZnlfZmFpbCA9IHRydWU7CiAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSBlcnIucmVzcG9uc2UuZGF0YS5tc2c7CiAgICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["VerifyOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VerifyOrder.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"main\">\n    <div v-if=\"loading\">\n      <el-image :src=\"image.loading\"></el-image>\n    </div>\n    <div v-if=\"verify_pass\">\n      <div class=\"display\">\n        <el-col :span=\"6\">\n          <el-image :src=\"image.success\" style=\"width: 8em;\"></el-image>\n        </el-col>\n        <el-col :span=\"18\" style=\"text-align: center;\">\n          <p class=\"create_success\">\n            <span>恭喜，支付成功!</span>\n          </p>\n          <p class=\"create_success\">\n            <span>订单号：</span>\n            <span style=\"color: red;\">{{ order_id }}</span>\n          </p>\n          <p class=\"create_success\">\n            <span>支付流水号：</span>\n            <span style=\"color: red;\">{{ trade_id }}</span>\n          </p>\n          <p class=\"create_success\">\n            <el-button\n              type=\"danger\"\n              size=\"mini\"\n              style=\"margin-left:15em;\"\n              @click=\"$router.push({ name: 'orders', params: { id: order_id } })\"\n            >查看订单</el-button>\n            <el-button type=\"danger\" size=\"mini\" @click=\"$router.push({name: 'home'})\">返回主页</el-button>\n          </p>\n        </el-col>\n      </div>\n    </div>\n    <div v-if=\"verify_fail\">\n      <div class=\"display\">\n        <el-col :span=\"6\">\n          <p class=\"create_success\">\n            <el-image :src=\"image.failure\" style=\"width: 8em;\"></el-image>\n          </p>\n        </el-col>\n        <el-col :span=\"18\" style=\"text-align: center;\">\n          <p class=\"create_success\">\n            <span>支付出现异常，请联系人工客服处理!</span>\n          </p>\n          <p class=\"create_success\">\n            <span>失败原因：{{ error_message }}</span>\n          </p>\n          <p class=\"create_success\">\n            <el-button\n              type=\"danger\"\n              size=\"mini\"\n              style=\"margin-left:15em;\"\n              @click=\"$router.push({name: 'home'})\"\n            >返回主页</el-button>\n          </p>\n        </el-col>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"VerifyOrder\",\n  data() {\n    return {\n      // 认证结果\n      verify_pass: false,\n      verify_fail: false,\n      error_message: \"\",\n\n      // 加载中\n      loading: true,\n\n      // 图片路径。引用本地图片时，将图片作为对象导入才能绑定\n      image: {\n        success: require(\"../assets/images/success.jpeg\"),\n        failure: require(\"../assets/images/failure.jpeg\"),\n        loading: require(\"../assets/images/loading.gif\")\n      },\n\n      // 返回值\n      order_id: 0,\n      trade_id: 0\n    };\n  },\n  mounted() {\n    this.verify_order();\n  },\n  methods: {\n    // 获取回调地址中的参数\n    getCode() {\n      let url = window.location.href;\n      return url.split(\"?\")[1];\n    },\n    verify_order() {\n      let params = this.getCode();\n      this.$api\n        .verify_alipay(params)\n        .then(res => {\n          this.loading = false;\n          this.verify_pass = true;\n          this.order_id = res.data.order_id;\n          this.trade_id = res.data.trade_id;\n        })\n        .catch(err => {\n          this.loading = false;\n          this.verify_fail = true;\n          this.error_message = err.response.data.msg;\n        });\n    }\n  }\n};\n</script>\n<style scoped>\n.main {\n  text-align: center;\n  margin-top: 5em;\n}\n\n.create_success {\n  margin: 0 0;\n  padding: 0 0.2em;\n  height: 2em;\n  line-height: 2em;\n  text-align: left;\n}\n\n.el-image {\n  margin: 0 0;\n  padding: 0 0.2em;\n  text-align: right;\n}\n\n.display {\n  width: 40em;\n  height: 8em;\n  margin-left: 28em;\n  background-color: whitesmoke;\n  border-radius: 0.5em;\n}\n</style>"]}]}