{"remainingRequest":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/thread-loader/dist/cjs.js!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/views/GoodsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/views/GoodsList.vue","mtime":1624245887490},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCBDb250YWluZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbnRhaW5lci52dWUiOwppbXBvcnQgQ2F0ZWdvcnkgZnJvbSAiQC9jb21wb25lbnRzL0NhdGVnb3J5LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5pCc57Si5qCP5Lyg5YWl55qEdGV4dAogICAgICB0ZXh0OiAiIiwKICAgICAgLy8gICDliIbpobXlj5jph48KICAgICAgcGFnZTogMSwKICAgICAgcGFnZV9zaXplOiAxMiwKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOafpeivoue7k+aenAogICAgICBza3Vfc2V0OiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnRleHQgPSB0aGlzLiRyb3V0ZS5xdWVyeS50ZXh0OyAvLyB0aGlzLnRleHQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudGV4dDsKCiAgICB0aGlzLmdldF9nb29kcygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6L+Z5piv5YiG6aG15Ye95pWwCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKGN1cnJlbnRQYWdlKSB7CiAgICAgIHRoaXMucGFnZSA9IGN1cnJlbnRQYWdlOyAvLyAgIOavj+asoemhteeggeWIh+aNouWQjuWwseaOieS4gOasoeafpeivogoKICAgICAgdGhpcy5nZXRfZ29vZHMoKTsKICAgIH0sCiAgICAvLyDmn6Xor6Jza3UKICAgIGdldF9nb29kczogZnVuY3Rpb24gZ2V0X2dvb2RzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXBpLnNlYXJjaCh7CiAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgIHBhZ2Vfc2l6ZTogdGhpcy5wYWdlX3NpemUsCiAgICAgICAgdGV4dDogdGhpcy50ZXh0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vICAg5ZCO56uv5aSE55CG5YiG6aG1CiAgICAgICAgX3RoaXMuc2t1X3NldCA9IHJlcy5kYXRhLnJlc3VsdHM7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCs6Lev55Sx5Y+Y5YyW77yM6Kej5Yaz5ZCM5LiAdXJs5LiN5ZCM5Y+C5pWw5pe277yM6aG16Z2i5LiN5Yi35paw55qE6Zeu6aKYCiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bywgZnJvbSkgewogICAgICB0aGlzLnRleHQgPSB0by5xdWVyeS50ZXh0OwogICAgICB0aGlzLmdldF9nb29kcygpOyAvLyDph43mlrDliqDovb3mlbDmja4KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENvbnRhaW5lcjogQ29udGFpbmVyLAogICAgQ2F0ZWdvcnk6IENhdGVnb3J5CiAgfQp9Ow=="},{"version":3,"sources":["GoodsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AAEA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,QAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,IAAA,EAAA,EAFA;AAGA;AACA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,CANA;AAQA;AACA,MAAA,OAAA,EAAA;AATA,KAAA;AAWA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,SAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CADA,CAEA;;AAEA,SAAA,SAAA;AACA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,mBAFA,+BAEA,WAFA,EAEA;AACA,WAAA,IAAA,GAAA,WAAA,CADA,CAEA;;AACA,WAAA,SAAA;AACA,KANA;AAQA;AACA,IAAA,SATA,uBASA;AAAA;;AACA,WAAA,IAAA,CACA,MADA,CACA;AACA,QAAA,IAAA,EAAA,KAAA,IADA;AAEA,QAAA,SAAA,EAAA,KAAA,SAFA;AAGA,QAAA,IAAA,EAAA,KAAA;AAHA,OADA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAVA;AAWA;AArBA,GApBA;AA2CA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,MAFA,kBAEA,EAFA,EAEA,IAFA,EAEA;AACA,WAAA,IAAA,GAAA,EAAA,CAAA,KAAA,CAAA,IAAA;AACA,WAAA,SAAA,GAFA,CAEA;AACA;AALA,GA3CA;AAkDA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,QAAA,EAAA;AAFA;AAlDA,CAAA","sourcesContent":["<template>\n  <Container>\n    <Category></Category>\n    <div class=\"main\">\n      <!-- 商品信息 -->\n      <el-row>\n        <el-col :span=\"3\">\n          <pre style=\"margin:0; padding: 0;\">&nbsp;</pre>\n        </el-col>\n        <el-col :span=\"16\">\n          <div style=\"min-height: 30em; width: 70em;\">\n            <el-col :span=\"4\" v-for=\"item in sku_set\" :key=\"item.text\" class=\"detail_box\">\n              <span class=\"stock\">剩余{{ item.object.stock }}件</span>\n              <el-link\n                :underline=\"false\"\n                @click=\"$router.push({name: 'sku_detail', query:{sku_id: item.object.id}})\"\n              >\n                <el-image :src=\"item.object.default_image_url\"></el-image>\n              </el-link>\n              <div class=\"text\" :title=\"item.object.name\">{{ item.object.name }}</div>\n              <div style=\"color:red;\">\n                {{ item.object.price }}\n                <span class=\"comments\">{{ item.object.comments }}条评价</span>\n              </div>\n            </el-col>\n          </div>\n        </el-col>\n      </el-row>\n      <!-- 分页 -->\n      <el-row>\n        <div style=\"text-align: center;\">\n          <el-pagination\n            background\n            @current-change=\"handleCurrentChange\"\n            :page-size=\"page_size\"\n            :current-page=\"page\"\n            layout=\"prev, pager, next\"\n            :total=\"total\"\n          ></el-pagination>\n        </div>\n      </el-row>\n    </div>\n  </Container>\n</template>\n<script>\n/* eslint-disable */\n\nimport Container from \"@/components/Container.vue\";\nimport Category from \"@/components/Category.vue\";\n\nexport default {\n  data() {\n    return {\n      // 搜索栏传入的text\n      text: \"\",\n      //   分页变量\n      page: 1,\n      page_size: 12,\n      total: 0,\n\n      // 查询结果\n      sku_set: []\n    };\n  },\n  mounted() {\n    this.text = this.$route.query.text;\n    // this.text = this.$route.params.text;\n\n    this.get_goods();\n  },\n  methods: {\n    // 这是分页函数\n    handleCurrentChange(currentPage) {\n      this.page = currentPage;\n      //   每次页码切换后就掉一次查询\n      this.get_goods();\n    },\n\n    // 查询sku\n    get_goods() {\n      this.$api\n        .search({\n          page: this.page,\n          page_size: this.page_size,\n          text: this.text\n        })\n        .then(res => {\n          //   后端处理分页\n          this.sku_set = res.data.results;\n          this.total = res.data.count;\n        });\n    }\n  },\n  watch: {\n    // 监听路由变化，解决同一url不同参数时，页面不刷新的问题\n    $route(to, from) {\n          this.text = to.query.text;\n          this.get_goods(); // 重新加载数据\n    }\n  },\n  components: {\n    Container,\n    Category\n  }\n};\n</script>\n<style scoped>\n.main {\n  margin-top: 2em;\n}\n.main .el-row {\n  margin-top: 1em;\n  margin-bottom: 0;\n}\n.detail_box {\n  width: 10em;\n  margin: 0.75em 0.5em;\n  padding: 0.5em 0.5em;\n}\n\n.text {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 0.5em;\n  color: grey;\n}\n.stock {\n  position: absolute;\n  z-index: 8;\n  font-size: 0.5em;\n  color: rgb(133, 131, 131);\n  background-color: rgb(217, 224, 224);\n}\n.comments {\n  margin-left: 2em;\n  font-size: 0.5em;\n  color: grey;\n}\n</style>"],"sourceRoot":"src/views"}]}