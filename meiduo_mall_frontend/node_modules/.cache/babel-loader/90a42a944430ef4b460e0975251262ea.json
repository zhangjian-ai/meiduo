{"remainingRequest":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/components/VerifyOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/components/VerifyOrder.vue","mtime":1623920414974},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlZlcmlmeU9yZGVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6K6k6K+B57uT5p6cCiAgICAgIHZlcmlmeV9wYXNzOiBmYWxzZSwKICAgICAgdmVyaWZ5X2ZhaWw6IGZhbHNlLAogICAgICBlcnJvcl9tZXNzYWdlOiAiIiwKICAgICAgLy8g5Yqg6L295LitCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOWbvueJh+i3r+W+hOOAguW8leeUqOacrOWcsOWbvueJh+aXtu+8jOWwhuWbvueJh+S9nOS4uuWvueixoeWvvOWFpeaJjeiDvee7keWumgogICAgICBpbWFnZTogewogICAgICAgIHN1Y2Nlc3M6IHJlcXVpcmUoIi4uL2Fzc2V0cy9pbWFnZXMvc3VjY2Vzcy5qcGVnIiksCiAgICAgICAgZmFpbHVyZTogcmVxdWlyZSgiLi4vYXNzZXRzL2ltYWdlcy9mYWlsdXJlLmpwZWciKSwKICAgICAgICBsb2FkaW5nOiByZXF1aXJlKCIuLi9hc3NldHMvaW1hZ2VzL2xvYWRpbmcuZ2lmIikKICAgICAgfSwKICAgICAgLy8g6L+U5Zue5YC8CiAgICAgIG9yZGVyX2lkOiAwLAogICAgICB0cmFkZV9pZDogMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnZlcmlmeV9vcmRlcigpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5Zue6LCD5Zyw5Z2A5Lit55qE5Y+C5pWwCiAgICBnZXRDb2RlOiBmdW5jdGlvbiBnZXRDb2RlKCkgewogICAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICAgIHJldHVybiB1cmwuc3BsaXQoIj8iKVsxXTsKICAgIH0sCiAgICB2ZXJpZnlfb3JkZXI6IGZ1bmN0aW9uIHZlcmlmeV9vcmRlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLmdldENvZGUoKTsKICAgICAgdGhpcy4kYXBpLnZlcmlmeV9hbGlwYXkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMudmVyaWZ5X3Bhc3MgPSB0cnVlOwogICAgICAgIF90aGlzLm9yZGVyX2lkID0gcmVzLmRhdGEub3JkZXJfaWQ7CiAgICAgICAgX3RoaXMudHJhZGVfaWQgPSByZXMuZGF0YS50cmFkZV9pZDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpcy52ZXJpZnlfZmFpbCA9IHRydWU7CiAgICAgICAgX3RoaXMuZXJyb3JfbWVzc2FnZSA9IGVyci5yZXNwb25zZS5kYXRhLm1zZzsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["VerifyOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAIA,MAAA,aAAA,EAAA,EAJA;AAMA;AACA,MAAA,OAAA,EAAA,IAPA;AASA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA,OAAA,CAAA,+BAAA,CADA;AAEA,QAAA,OAAA,EAAA,OAAA,CAAA,+BAAA,CAFA;AAGA,QAAA,OAAA,EAAA,OAAA,CAAA,8BAAA;AAHA,OAVA;AAgBA;AACA,MAAA,QAAA,EAAA,CAjBA;AAkBA,MAAA,QAAA,EAAA;AAlBA,KAAA;AAoBA,GAvBA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,YAAA;AACA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,OAFA,qBAEA;AACA,UAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA;AACA,aAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,KALA;AAMA,IAAA,YANA,0BAMA;AAAA;;AACA,UAAA,MAAA,GAAA,KAAA,OAAA,EAAA;AACA,WAAA,IAAA,CACA,aADA,CACA,MADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAZA;AAaA;AArBA;AA3BA,CAAA","sourcesContent":["<template>\n  <div class=\"main\">\n    <div v-if=\"loading\">\n      <el-image :src=\"image.loading\"></el-image>\n    </div>\n    <div v-if=\"verify_pass\">\n      <div class=\"display\">\n        <el-col :span=\"6\">\n          <el-image :src=\"image.success\" style=\"width: 8em;\"></el-image>\n        </el-col>\n        <el-col :span=\"18\" style=\"text-align: center;\">\n          <p class=\"create_success\">\n            <span>恭喜，支付成功!</span>\n          </p>\n          <p class=\"create_success\">\n            <span>订单号：</span>\n            <span style=\"color: red;\">{{ order_id }}</span>\n          </p>\n          <p class=\"create_success\">\n            <span>支付流水号：</span>\n            <span style=\"color: red;\">{{ trade_id }}</span>\n          </p>\n          <p class=\"create_success\">\n            <el-button\n              type=\"danger\"\n              size=\"mini\"\n              style=\"margin-left:15em;\"\n              @click=\"$router.push({ name: 'orders', params: { id: order_id } })\"\n            >查看订单</el-button>\n            <el-button type=\"danger\" size=\"mini\" @click=\"$router.push({name: 'home'})\">返回主页</el-button>\n          </p>\n        </el-col>\n      </div>\n    </div>\n    <div v-if=\"verify_fail\">\n      <div class=\"display\">\n        <el-col :span=\"6\">\n          <p class=\"create_success\">\n            <el-image :src=\"image.failure\" style=\"width: 8em;\"></el-image>\n          </p>\n        </el-col>\n        <el-col :span=\"18\" style=\"text-align: center;\">\n          <p class=\"create_success\">\n            <span>支付出现异常，请联系人工客服处理!</span>\n          </p>\n          <p class=\"create_success\">\n            <span>失败原因：{{ error_message }}</span>\n          </p>\n          <p class=\"create_success\">\n            <el-button\n              type=\"danger\"\n              size=\"mini\"\n              style=\"margin-left:15em;\"\n              @click=\"$router.push({name: 'home'})\"\n            >返回主页</el-button>\n          </p>\n        </el-col>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"VerifyOrder\",\n  data() {\n    return {\n      // 认证结果\n      verify_pass: false,\n      verify_fail: false,\n      error_message: \"\",\n\n      // 加载中\n      loading: true,\n\n      // 图片路径。引用本地图片时，将图片作为对象导入才能绑定\n      image: {\n        success: require(\"../assets/images/success.jpeg\"),\n        failure: require(\"../assets/images/failure.jpeg\"),\n        loading: require(\"../assets/images/loading.gif\")\n      },\n\n      // 返回值\n      order_id: 0,\n      trade_id: 0\n    };\n  },\n  mounted() {\n    this.verify_order();\n  },\n  methods: {\n    // 获取回调地址中的参数\n    getCode() {\n      let url = window.location.href;\n      return url.split(\"?\")[1];\n    },\n    verify_order() {\n      let params = this.getCode();\n      this.$api\n        .verify_alipay(params)\n        .then(res => {\n          this.loading = false;\n          this.verify_pass = true;\n          this.order_id = res.data.order_id;\n          this.trade_id = res.data.trade_id;\n        })\n        .catch(err => {\n          this.loading = false;\n          this.verify_fail = true;\n          this.error_message = err.response.data.msg;\n        });\n    }\n  }\n};\n</script>\n<style scoped>\n.main {\n  text-align: center;\n  margin-top: 5em;\n}\n\n.create_success {\n  margin: 0 0;\n  padding: 0 0.2em;\n  height: 2em;\n  line-height: 2em;\n  text-align: left;\n}\n\n.el-image {\n  margin: 0 0;\n  padding: 0 0.2em;\n  text-align: right;\n}\n\n.display {\n  width: 40em;\n  height: 8em;\n  margin-left: 28em;\n  background-color: whitesmoke;\n  border-radius: 0.5em;\n}\n</style>"],"sourceRoot":"src/components"}]}