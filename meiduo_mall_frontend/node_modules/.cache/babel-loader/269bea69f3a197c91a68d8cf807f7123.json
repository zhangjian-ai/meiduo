{"remainingRequest":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/views/Skus.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/src/views/Skus.vue","mtime":1623232782511},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangjian/PycharmProjects/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCi8vLS0tLS0t55Sx5LqO5byV5YWl5LqG5aSW6YOoanPvvIzmraTlpITlpLHmlYhlc2xpbnTmoKHpqowKaW1wb3J0IENvbnRhaW5lciBmcm9tICJAL2NvbXBvbmVudHMvQ29udGFpbmVyLnZ1ZSI7CmltcG9ydCBDYXRlZ29yeSBmcm9tICJAL2NvbXBvbmVudHMvQ2F0ZWdvcnkudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTa3VzIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5LiK5LiA6aG16Z2i5Lyg5YWlc2t155qE5YiG57G7aWQKICAgICAgY2F0ZWdvcnlfaWQ6IDAsCiAgICAgIC8vICAg5YiG6aG15Y+Y6YePCiAgICAgIHBhZ2U6IDEsCiAgICAgIHBhZ2Vfc2l6ZTogMTAsCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmn6Xor6Lnu5PmnpwKICAgICAgc2t1X3NldDogW10sCiAgICAgIHRvcF9zZXQ6IFtdLAogICAgICAvLyAgIOaOkuW6jwogICAgICBvcmRlcmluZzogWyItY3JlYXRlX3RpbWUiLCAicHJpY2UiLCAiLXNhbGVzIl0sCiAgICAgIG9yZGVyOiAiLWNyZWF0ZV90aW1lIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuY2F0ZWdvcnlfaWQpIHsKICAgICAgdGhpcy5jYXRlZ29yeV9pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmNhdGVnb3J5X2lkOwogICAgfQoKICAgIHRoaXMuZ2V0X3NrdSgpOwogICAgdGhpcy5nZXRfdG9wX3NrdSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6L+Z5piv5YiG6aG16ZKp5a2Q5Ye95pWwCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKGN1cnJlbnRQYWdlKSB7CiAgICAgIHRoaXMucGFnZSA9IGN1cnJlbnRQYWdlOyAvLyAgIOavj+asoemhteeggeWIh+aNouWQjuWwseaOieS4gOasoeafpeivogoKICAgICAgdGhpcy5nZXRfc2t1KCk7CiAgICB9LAogICAgLy8g5qCH562+6aG155qE6ZKp5a2Q5Ye95pWwCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2sodGFiLCBldmVudCkgewogICAgICB0aGlzLm9yZGVyID0gdGhpcy5vcmRlcmluZ1t0YWIuaW5kZXhdOwogICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldF9za3UoKTsKICAgIH0sCiAgICAvLyDmn6Xor6Jza3UKICAgIGdldF9za3U6IGZ1bmN0aW9uIGdldF9za3UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQuJGF4aW9zLmdldCgic2t1X2xpc3QvIiArIHRoYXQuY2F0ZWdvcnlfaWQgKyAiL3NrdXMiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlOiB0aGF0LnBhZ2UsCiAgICAgICAgICBwYWdlX3NpemU6IHRoYXQucGFnZV9zaXplLAogICAgICAgICAgb3JkZXJpbmc6IHRoYXQub3JkZXIKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIOWQjuerr+WkhOeQhuWIhumhtQogICAgICAgIHRoYXQuc2t1X3NldCA9IHJlcy5kYXRhLnJlc3VsdHM7CiAgICAgICAgdGhhdC50b3RhbCA9IHJlcy5kYXRhLmNvdW50OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogIuiOt+WPlnNrdeS/oeaBr+Wksei0pSIsCiAgICAgICAgICBtZXNzYWdlOiBlcnIubXNnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPlueDremUgOS6p+WTgQogICAgZ2V0X3RvcF9za3U6IGZ1bmN0aW9uIGdldF90b3Bfc2t1KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhhdC4kYXhpb3MuZ2V0KCJza3VfbGlzdC8iICsgdGhhdC5jYXRlZ29yeV9pZCArICIvdG9wcyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHRoYXQudG9wX3NldCA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICLojrflj5Z0b3Bfc2t15L+h5oGv5aSx6LSlIiwKICAgICAgICAgIG1lc3NhZ2U6IGVyci5tc2cKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDb250YWluZXI6IENvbnRhaW5lciwKICAgIENhdGVnb3J5OiBDYXRlZ29yeQogIH0KfTs="},{"version":3,"sources":["Skus.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AAAA;AAEA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,QAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,WAAA,EAAA,CAFA;AAGA;AACA,MAAA,IAAA,EAAA,CAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,CANA;AAQA;AACA,MAAA,OAAA,EAAA,EATA;AAUA,MAAA,OAAA,EAAA,EAVA;AAYA;AACA,MAAA,QAAA,EAAA,CAAA,cAAA,EAAA,OAAA,EAAA,QAAA,CAbA;AAcA,MAAA,KAAA,EAAA;AAdA,KAAA;AAgBA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,QAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,EAAA;AACA,WAAA,WAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA;AACA;;AACA,SAAA,OAAA;AACA,SAAA,WAAA;AACA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,mBAFA,+BAEA,WAFA,EAEA;AACA,WAAA,IAAA,GAAA,WAAA,CADA,CAEA;;AACA,WAAA,OAAA;AACA,KANA;AAOA;AACA,IAAA,WARA,uBAQA,GARA,EAQA,KARA,EAQA;AACA,WAAA,KAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AACA,WAAA,IAAA,GAAA,CAAA;AACA,WAAA,OAAA;AACA,KAZA;AAcA;AACA,IAAA,OAfA,qBAeA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,IAAA,CAAA,MAAA,CACA,GADA,CACA,cAAA,IAAA,CAAA,WAAA,GAAA,OADA,EACA;AACA,QAAA,MAAA,EAAA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,IADA;AAEA,UAAA,SAAA,EAAA,IAAA,CAAA,SAFA;AAGA,UAAA,QAAA,EAAA,IAAA,CAAA;AAHA;AADA,OADA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA,QAAA,IAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAZA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,KAAA,EAAA,WADA;AAEA,UAAA,OAAA,EAAA,GAAA,CAAA;AAFA,SAAA;AAIA,OAlBA;AAmBA,KApCA;AAsCA;AACA,IAAA,WAvCA,yBAuCA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,IAAA,CAAA,MAAA,CACA,GADA,CACA,cAAA,IAAA,CAAA,WAAA,GAAA,OADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,KAAA,EAAA,eADA;AAEA,UAAA,OAAA,EAAA,GAAA,CAAA;AAFA,SAAA;AAIA,OAVA;AAWA;AApDA,GA3BA;AAiFA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,QAAA,EAAA;AAFA;AAjFA,CAAA","sourcesContent":["<template>\n  <Container>\n    <Category></Category>\n    <div class=\"main\">\n      <!-- 面包屑 -->\n      <el-row>\n        <el-col :span=\"2\">\n          <pre style=\"margin:0; padding: 0;\">&nbsp;</pre>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-breadcrumb style=\"font-size: 0.5em; color:red;\">\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品列表</el-breadcrumb-item>\n          </el-breadcrumb>\n        </el-col>\n      </el-row>\n      <!-- sku信息 -->\n      <el-row>\n        <el-col :span=\"2\">\n          <pre style=\"margin:0; padding: 0;\">&nbsp;</pre>\n        </el-col>\n        <el-col :span=\"4\">\n          <div class=\"hot\">\n            <p class=\"hot_title\">热销排行</p>\n            <div :span=\"4\" v-for=\"item in top_set\" :key=\"item\" class=\"hot_detail_box\">\n              <span class=\"stock\">剩余{{ item.comments }}件</span>\n              <el-link :underline=\"false\">\n                <el-image :src=\"item.default_image_url\" :alt=\"item.caption\"></el-image>\n              </el-link>\n              <div class=\"text\" :title=\"item.name\">{{ item.name }}</div>\n              <div style=\"color:red;\">{{ item.price }}</div>\n            </div>\n          </div>\n        </el-col>\n        <el-col :span=\"16\">\n          <div>\n            <el-tabs type=\"card\" @tab-click=\"handleClick\">\n              <el-tab-pane label=\"默认\"></el-tab-pane>\n              <el-tab-pane label=\"价格\"></el-tab-pane>\n              <el-tab-pane label=\"人气\"></el-tab-pane>\n            </el-tabs>\n          </div>\n          <div style=\"min-height: 18em; width: 58em;\">\n            <el-col :span=\"4\" v-for=\"item in sku_set\" :key=\"item\" class=\"detail_box\">\n              <span class=\"stock\">剩余{{ item.comments }}件</span>\n              <el-link :underline=\"false\">\n                <el-image :src=\"item.default_image_url\" :alt=\"item.caption\"></el-image>\n              </el-link>\n              <div class=\"text\" :title=\"item.name\">{{ item.name }}</div>\n              <div style=\"color:red;\">\n                {{ item.price }}\n                <span class=\"comments\">{{ item.comments }}条评价</span>\n              </div>\n            </el-col>\n          </div>\n        </el-col>\n      </el-row>\n      <!-- 分页 -->\n      <el-row>\n        <div style=\"text-align: center;\">\n          <el-pagination\n            background\n            @current-change=\"handleCurrentChange\"\n            :page-size=\"page_size\"\n            :current-page=\"page\"\n            layout=\"prev, pager, next\"\n            :total=\"total\"\n          ></el-pagination>\n        </div>\n      </el-row>\n    </div>\n  </Container>\n</template>\n<script>\n/* eslint-disable */ //------由于引入了外部js，此处失效eslint校验\n\nimport Container from \"@/components/Container.vue\";\nimport Category from \"@/components/Category.vue\";\n\nexport default {\n  name: \"Skus\",\n  data() {\n    return {\n      // 上一页面传入sku的分类id\n      category_id: 0,\n      //   分页变量\n      page: 1,\n      page_size: 10,\n      total: 0,\n\n      // 查询结果\n      sku_set: [],\n      top_set: [],\n\n      //   排序\n      ordering: [\"-create_time\", \"price\", \"-sales\"],\n      order: \"-create_time\"\n    };\n  },\n  mounted() {\n    if (this.$route.query.category_id) {\n      this.category_id = this.$route.query.category_id;\n    }\n    this.get_sku();\n    this.get_top_sku();\n  },\n  methods: {\n    // 这是分页钩子函数\n    handleCurrentChange(currentPage) {\n      this.page = currentPage;\n      //   每次页码切换后就掉一次查询\n      this.get_sku();\n    },\n    // 标签页的钩子函数\n    handleClick(tab, event) {\n      this.order = this.ordering[tab.index];\n      this.page = 1;\n      this.get_sku();\n    },\n\n    // 查询sku\n    get_sku() {\n      let that = this;\n      that.$axios\n        .get(\"sku_list/\" + that.category_id + \"/skus\", {\n          params: {\n            page: that.page,\n            page_size: that.page_size,\n            ordering: that.order\n          }\n        })\n        .then(res => {\n          // 后端处理分页\n          that.sku_set = res.data.results;\n          that.total = res.data.count;\n        })\n        .catch(err => {\n          this.$notify.error({\n            title: \"获取sku信息失败\",\n            message: err.msg\n          });\n        });\n    },\n\n    // 获取热销产品\n    get_top_sku() {\n      let that = this;\n      that.$axios\n        .get(\"sku_list/\" + that.category_id + \"/tops\")\n        .then(res => {\n          that.top_set = res.data;\n        })\n        .catch(err => {\n          this.$notify.error({\n            title: \"获取top_sku信息失败\",\n            message: err.msg\n          });\n        });\n    }\n  },\n  components: {\n    Container,\n    Category\n  }\n};\n</script>\n<style scoped>\n.main {\n  margin-top: 1em;\n}\n.main .el-row {\n  margin-top: 1em;\n  margin-bottom: 0;\n}\n.hot {\n  padding-bottom: 0.5em;\n  text-align: center;\n  background-color: rgb(166, 240, 182);\n}\n.hot_title {\n  margin: 0;\n  height: 2em;\n  line-height: 2em;\n  font-size: 1.2em;\n  background-color: hotpink;\n}\n.hot_detail_box {\n  margin: 0.5em;\n  margin-left: 2.1em;\n  background-color: rgb(19, 236, 229);\n  width: 10em;\n  text-align: left;\n}\n.detail_box {\n  width: 10em;\n  margin: 0.5em 0.75em;\n  padding: 0.5em 0.5em;\n}\n\n.text {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 0.5em;\n  color: grey;\n}\n.stock {\n  position: absolute;\n  z-index: 8;\n  font-size: 0.5em;\n  color: rgb(133, 131, 131);\n  background-color: rgb(217, 224, 224);\n}\n.comments {\n  margin-left: 2em;\n  font-size: 0.5em;\n  color: grey;\n}\n</style>"],"sourceRoot":"src/views"}]}